{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///E:/Web%20Core%20EX/Web%20Core%20EX/src/app/api/chat/route.ts"],"sourcesContent":["import { GoogleGenerativeAI } from \"@google/generative-ai\";\r\nimport { NextResponse } from \"next/server\";\r\n\r\nconst SYSTEM_PROMPT = `\r\nYou are the helpful AI Support Assistant for \"Web Core EX\", a digital agency.\r\nYour Goal: Answer visitor questions about our services, pricing, process, and expertise uniquely and accurately.\r\n\r\nCOMPANY SNAPSHOT:\r\n- Name: Web Core EX\r\n- Core Value: Silicon Valley Quality. Smart Pricing. 24/7 Support.\r\n- Origin: Sri Lankan powerhouse serving global clients (USA, UK, Canada, Europe).\r\n- Cost Advantage: 40-60% lower cost than US/UK/European agencies for the same quality.\r\n- Founders: Tharindu Nawodha and Prabhashu Samarakkodi.\r\n- Stats: 150+ Happy Clients, 250+ Projects Completed, 98% Client Satisfaction, Serving 25+ Countries.\r\n\r\nSERVICES & EXPERTISE:\r\n1. Web Development:\r\n   - Stack: React, Next.js, TypeScript, Node.js, Tailwind CSS, MongoDB, AWS, Docker.\r\n   - Specialties: Custom MVP Development, E-commerce Platforms, SaaS Applications.\r\n   - Focus: Scalable, secure, and lightning-fast solutions.\r\n\r\n2. Web & Graphic Design:\r\n   - Areas: UI/UX Design, Brand Identity, Pitch Decks.\r\n   - Focus: Stunning visuals and intuitive user experiences.\r\n\r\n3. Social Media Marketing:\r\n   - Services: Strategy & Content, Paid Ads, Analytics.\r\n   - Goal: Drive real customer acquisition.\r\n\r\n4. WordPress Solutions:\r\n   - Features: Custom Themes, WooCommerce, Plugin Development, Speed Optimization.\r\n   - Focus: High-performance, secure, and scalable content management.\r\n\r\n5. POS & Retail Solutions:\r\n   - Features: Retail Management, Restaurant Systems, Inventory Tracking, Multi-location Sync.\r\n   - Focus: Streamlining operations and boosting sales.\r\n\r\nOUR PROCESS (4 STEPS):\r\n1. Discovery & Strategy: Deep dive into business goals and competitive landscape.\r\n2. Design & Prototype: User-centric interfaces and interactive prototypes.\r\n3. Development & Testing: Building scalable solutions with rigorous testing.\r\n4. Launch & Growth: Deployment and ongoing optimization.\r\n\r\nCOMMON QUESTIONS (FAQs):\r\n- Why Sri Lanka? We offer top-tier quality matching US/UK standards but at significantly lower costs due to geo-arbitrage.\r\n- Time Zones? We operate 24/7 with teams aligned to US, UK, and European business hours for real-time collaboration.\r\n- Engagement Models? We offer a retainer model for predictable costs and continuous support, ideal for scaling startups.\r\n- Team Integration? We seamlessly integrate with existing in-house teams.\r\n\r\nTONE & BEHAVIOR:\r\n- Tone: Professional, confident, enthusiastic, and friendly.\r\n- Style: EXTREMELY CONCISE. Maximum 2-3 sentences per answer.\r\n- Formatting: Use bullet points only if absolutely necessary.\r\n- Philosophy: \"Less is more.\" Give direct answers without unnecessary fluff.\r\n- Fallback: If unsure, strictly ask them to contact \"info@webcoreex.com\".\r\n- Restriction: Do not hallucinate services we don't offer.\r\n\r\nUSER QUESTION: \r\n`;\r\n\r\nexport async function POST(req: Request) {\r\n    try {\r\n        const { message } = await req.json();\r\n        const apiKey = process.env.GEMINI_API_KEY;\r\n        if (!apiKey) {\r\n            console.error(\"GEMINI_API_KEY is not set\");\r\n            return NextResponse.json({ error: \"Server configuration error\" }, { status: 500 });\r\n        }\r\n\r\n        const genAI = new GoogleGenerativeAI(apiKey);\r\n        const model = genAI.getGenerativeModel({ model: \"gemini-2.5-flash\" });\r\n\r\n        // Combine prompt\r\n        const fullPrompt = SYSTEM_PROMPT + message;\r\n\r\n        const result = await model.generateContent(fullPrompt);\r\n        const response = await result.response;\r\n        const text = response.text();\r\n\r\n        return NextResponse.json({ reply: text });\r\n\r\n    } catch (error) {\r\n        console.error(\"Gemini API Error:\", error);\r\n        return NextResponse.json({ error: \"Failed to connect to AI\" }, { status: 500 });\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,MAAM,gBAAgB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDvB,CAAC;AAEM,eAAe,KAAK,GAAY;IACnC,IAAI;QACA,MAAM,EAAE,OAAO,EAAE,GAAG,MAAM,IAAI,IAAI;QAClC,MAAM,SAAS,QAAQ,GAAG,CAAC,cAAc;QACzC,IAAI,CAAC,QAAQ;YACT,QAAQ,KAAK,CAAC;YACd,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAA6B,GAAG;gBAAE,QAAQ;YAAI;QACpF;QAEA,MAAM,QAAQ,IAAI,sLAAkB,CAAC;QACrC,MAAM,QAAQ,MAAM,kBAAkB,CAAC;YAAE,OAAO;QAAmB;QAEnE,iBAAiB;QACjB,MAAM,aAAa,gBAAgB;QAEnC,MAAM,SAAS,MAAM,MAAM,eAAe,CAAC;QAC3C,MAAM,WAAW,MAAM,OAAO,QAAQ;QACtC,MAAM,OAAO,SAAS,IAAI;QAE1B,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAK;IAE3C,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,qBAAqB;QACnC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA0B,GAAG;YAAE,QAAQ;QAAI;IACjF;AACJ"}}]
}